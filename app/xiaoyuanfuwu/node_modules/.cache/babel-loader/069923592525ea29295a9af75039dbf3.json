{"remainingRequest":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\babel-loader\\lib\\index.js!F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\src\\modules\\ershou\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\src\\modules\\ershou\\details.vue","mtime":1554693587911},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"F:\\\\xiaoyuanfuwu\\\\app\\\\xiaoyuanfuwu\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { api_goodsmessage, collectlist, addcollect, delcollect, addshoppingcart as _addshoppingcart, shoppingcartlist, delshoppingcart as _delshoppingcart } from '../../components/rest-api/APIKeys';\nexport default {\n  name: 'DemoNews',\n  components: {},\n  props: [],\n  data: function data() {\n    return {\n      goods_id: window.localStorage.getItem('goods_id'),\n      token: window.localStorage.getItem('token'),\n      radio: '1',\n      radios: [{\n        label: '是',\n        value: '1',\n        isChecked: true\n      }, {\n        label: '否',\n        value: '2',\n        isChecked: false\n      }, {\n        label: '全部',\n        value: '3',\n        isChecked: false\n      }],\n      name: '',\n      price: '',\n      //商品单格\n      w_price: 'ppp',\n      number: '',\n      classify: '',\n      content: '',\n      phone: '',\n      //联系电话\n      username: '',\n      //发布者\n      assess: [],\n      //评论\n      collect: [],\n      //收藏列表\n      iscollect: false,\n      //是否已经收藏\n      shoppingcart: [],\n      //购物车列表\n      isshoppingcart: false,\n      //是否已经加入购物车\n      seller_id: '' //卖家id\n\n    };\n  },\n  computed: {},\n  created: function created() {\n    var _this = this;\n\n    var req = {\n      token: this.token\n    }; //收藏列表\n\n    this.$post(collectlist, req).then(function (res) {\n      _this.$showDialog(true);\n\n      if (res.errno == 0) {\n        _this.$showDialog(false);\n\n        _this.collect = res.data;\n        console.log(_this.iscollect);\n\n        for (var a = 0; a < _this.collect.length; a++) {\n          if (_this.collect[a].goods_id == _this.goods_id) {\n            _this.iscollect = true;\n          }\n        }\n\n        console.log(_this.iscollect);\n      } else {\n        _this.$showError(res.errmsg);\n      }\n    }); //购物车列表\n\n    this.$post(shoppingcartlist, req).then(function (res) {\n      _this.$showDialog(true);\n\n      if (res.errno == 0) {\n        _this.$showDialog(false);\n\n        _this.shoppingcart = res.data;\n        console.log(_this.isshoppingcart);\n\n        for (var a = 0; a < _this.shoppingcart.length; a++) {\n          if (_this.shoppingcart[a].goods_id == _this.goods_id) {\n            _this.isshoppingcart = true;\n          }\n        }\n\n        console.log(_this.iscollect);\n      } else {\n        _this.$showError(res.errmsg);\n      }\n    });\n    var jsonData = {\n      goods_id: this.goods_id\n    };\n    this.$post(api_goodsmessage, jsonData).then(function (res) {\n      _this.$showDialog(true);\n\n      if (res.errno == 0) {\n        _this.$showDialog(false);\n\n        _this.name = res.data['name'];\n        _this.number = res.data['number'];\n        _this.address = res.data['address'];\n        _this.classify = res.data['classify'];\n        _this.pic = res.data['pic'];\n        _this.price = res.data['price'];\n        _this.content = res.data['content'];\n        _this.phone = res.data['phone'];\n        _this.username = res.data['username'];\n        _this.assess = res.data.assess;\n        _this.seller_id = res.data.user_id;\n        console.log(_this.seller_id);\n      } else {\n        _this.$showError(res.errmsg);\n      }\n    });\n  },\n  mounted: function mounted() {},\n  activated: function activated() {//            if (!!this.scrollOffset && this.scrollOffset > 0) {\n    //                this.scrollView.scrollTop = this.scrollOffset;\n    //            }\n  },\n  methods: {\n    check: function check(index) {\n      // 先取消所有选中项\n      this.radios.forEach(function (item) {\n        item.isChecked = false;\n      }); //再设置当前点击项选中\n\n      this.radio = this.radios[index].value; // 设置值，以供传递\n\n      this.radios[index].isChecked = true;\n      console.log(this.radio);\n    },\n    openAlert: function openAlert() {\n      this.$dialog.alert({\n        title: '选填标题',\n        mes: '发布者：' + this.username\n      });\n    },\n    onPop: function onPop() {\n      this.$pop();\n    },\n    onPressPush: function onPressPush(rou) {\n      this.$pushRoute(rou);\n    },\n    //加入购物车\n    addshoppingcart: function addshoppingcart() {\n      var _this2 = this;\n\n      var req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(_addshoppingcart, req).then(function (res) {\n        _this2.$showDialog(true);\n\n        if (res.errno == 0) {\n          _this2.isshoppingcart = true;\n\n          _this2.$showDialog(false);\n\n          _this2.$dialog.toast({\n            mes: '加入成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          _this2.$showError(res.errmsg);\n        }\n      });\n    },\n    //添加到收藏\n    addCollect: function addCollect() {\n      var _this3 = this;\n\n      var req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(addcollect, req).then(function (res) {\n        _this3.$showDialog(true);\n\n        if (res.errno == 0) {\n          _this3.iscollect = true;\n\n          _this3.$showDialog(false);\n\n          _this3.$dialog.toast({\n            mes: '收藏成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          _this3.$showError(res.errmsg);\n        }\n      });\n    },\n    //删除收藏\n    delCollect: function delCollect() {\n      var _this4 = this;\n\n      var req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(delcollect, req).then(function (res) {\n        _this4.$showDialog(true);\n\n        if (res.errno == 0) {\n          _this4.iscollect = false;\n\n          _this4.$showDialog(false);\n\n          _this4.$dialog.toast({\n            mes: '取消成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          _this4.$showError(res.errmsg);\n        }\n      });\n    },\n    //取消购物车\n    delshoppingcart: function delshoppingcart() {\n      var _this5 = this;\n\n      var req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(_delshoppingcart, req).then(function (res) {\n        _this5.$showDialog(true);\n\n        if (res.errno == 0) {\n          _this5.isshoppingcart = false;\n\n          _this5.$showDialog(false);\n\n          _this5.$dialog.toast({\n            mes: '取消成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          _this5.$showError(res.errmsg);\n        }\n      });\n    },\n    //立即购买\n    buy: function buy() {\n      if (this.token == '' || this.token == null) {\n        this.$showError('请先登录');\n        this.$pushRoute('login');\n      } else {\n        var goods = {\n          goods_id: this.goods_id,\n          seller_id: this.seller_id,\n          goods_price: this.price,\n          goods_name: this.name,\n          number: this.number\n        };\n        console.log(goods);\n        window.localStorage.setItem('goods', _JSON$stringify(goods));\n        this.$pushRoute('goumai');\n      }\n    }\n  }\n};",{"version":3,"sources":["details.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <yd-layout>\n    <template>\n      <!--导航栏-->\n      <yd-navbar\n        :fixed=\"true\"\n        style=\"backgroundColor:rgba(0,0,0,0);border-bottom: 0\"\n      >\n        <yd-navbar-back-icon slot=\"left\" @click.native=\"onPop\"\n          >返回\n        </yd-navbar-back-icon>\n        <yd-icon\n          slot=\"right\"\n          name=\"shopcart-outline\"\n          size=\"20px\"\n          color=\"rgb(92, 92, 92)\"\n          @click.native=\"onPressPush('gouwuche')\"\n        ></yd-icon>\n      </yd-navbar>\n      <!--轮播图-->\n      <yd-slider autoplay=\"3000\">\n        <yd-slider-item>\n          <a href=\"http://www.ydcss.com\">\n            <img src=\"http://static.ydcss.com/uploads/ydui/1.jpg\" />\n          </a>\n        </yd-slider-item>\n        <yd-slider-item>\n          <a href=\"http://www.ydcss.com\">\n            <img src=\"http://static.ydcss.com/uploads/ydui/2.jpg\" />\n          </a>\n        </yd-slider-item>\n        <yd-slider-item>\n          <a href=\"http://www.ydcss.com\">\n            <img src=\"http://static.ydcss.com/uploads/ydui/3.jpg\" />\n          </a>\n        </yd-slider-item>\n      </yd-slider>\n      <!--商品简介-->\n      <div class=\"spjj\">\n        <span slot=\"title\" class=\"title\">{{ name }}</span>\n        <yd-list-other slot=\"other\">\n          <div>\n            <span class=\"demo-list-price\"><em>¥</em>{{ price }}</span>\n          </div>\n          <div>{{ classify }}</div>\n        </yd-list-other>\n      </div>\n      <!--发布者，以及服务-->\n      <div style=\"height: 0.1rem\"></div>\n      <yd-cell-group>\n        <yd-cell-item arrow type=\"a\" href=\"tel:this.phone\">\n          <span slot=\"left\">联系电话</span>\n          <span slot=\"right\">{{ phone }}</span>\n        </yd-cell-item>\n        <yd-cell-item\n          arrow\n          tag=\"button\"\n          @click.stop.native=\"openAlert\"\n          size=\"large\"\n        >\n          <span slot=\"left\">发布者信息</span>\n          <span slot=\"right\">发布人</span>\n        </yd-cell-item>\n      </yd-cell-group>\n      <!--产品型号-->\n      <yd-accordion accordion>\n        <!-- <yd-accordion-item title=\"产品型号\" open>\n                          <div style=\"padding: .24rem;\">\n                            &lt;!&ndash;选择项&ndash;&gt;\n                            <div class=\"reply\">\n                              <span\n                                class=\"radio-box\"\n                                :class=\"{ on: item.isChecked }\"\n                                v-for=\"(item, index) in radios\"\n                                :key=\"item.id\"\n                              >\n                                <span class=\"radio\" :class=\"{ on: item.isChecked }\">\n                                  <span\n                                    :value=\"item.value\"\n                                    class=\"input-radio\"\n                                    :checked=\"item.isChecked\"\n                                    @click=\"check(index)\"\n                                    type=\"radio\"\n                                    >{{ item.label }}</span\n                                  ></span\n                                >\n                              </span>\n                            </div>\n                          </div>\n                        </yd-accordion-item>-->\n      </yd-accordion>\n      <div style=\"height: .1rem\"></div>\n      <!--选项卡-->\n      <yd-tab>\n        <yd-tab-panel label=\"产品简介\">{{ content }}</yd-tab-panel>\n        <yd-tab-panel label=\"评价\">\n          <yd-timeline>\n            <yd-timeline-item v-for=\"item in assess\" :key=\"item.assess_id\">\n              <p>{{ item.assess_time }}</p>\n              <p>评论人：{{ item.assess_username }}</p>\n              <p style=\"margin-top: 10px;\">{{ item.gacontent }}</p>\n            </yd-timeline-item>\n          </yd-timeline>\n        </yd-tab-panel>\n      </yd-tab>\n      <yd-tabbar slot=\"tabbar\">\n        <yd-tabbar-item title=\"电话\" type=\"a\" href=\"tel:this.phone\">\n          <yd-icon name=\"phone2\" slot=\"icon\" size=\".3rem\"></yd-icon>\n        </yd-tabbar-item>\n        <yd-tabbar-item\n          title=\"收藏\"\n          v-if=\"!this.iscollect\"\n          @click.native=\"addCollect\"\n        >\n          <yd-icon name=\"star-outline\" slot=\"icon\" size=\".3rem\"></yd-icon>\n        </yd-tabbar-item>\n        <yd-tabbar-item\n          title=\"已收藏\"\n          v-if=\"this.iscollect\"\n          style=\"color: #FF0000\"\n          @click.native=\"delCollect\"\n        >\n          <yd-icon name=\"star-outline\" slot=\"icon\" size=\".3rem\"></yd-icon>\n        </yd-tabbar-item>\n        <div>\n          <yd-button\n            class=\"trade\"\n            @click.native=\"addshoppingcart\"\n            v-if=\"!this.isshoppingcart\"\n            >加入购物车\n          </yd-button>\n          <yd-button\n            class=\"trade\"\n            @click.native=\"delshoppingcart\"\n            v-if=\"this.isshoppingcart\"\n            style=\"background:#999\"\n            >取消购物车\n          </yd-button>\n          <yd-button class=\"shopping\" @click.native=\"buy\"\n            >立 即 购 买</yd-button\n          >\n        </div>\n      </yd-tabbar>\n    </template>\n  </yd-layout>\n</template>\n\n<script>\nimport {\n  api_goodsmessage,\n  collectlist,\n  addcollect,\n  delcollect,\n  addshoppingcart,\n  shoppingcartlist,\n  delshoppingcart\n} from '../../components/rest-api/APIKeys';\n\nexport default {\n  name: 'DemoNews',\n  components: {},\n  props: [],\n  data: function() {\n    return {\n      goods_id: window.localStorage.getItem('goods_id'),\n      token: window.localStorage.getItem('token'),\n      radio: '1',\n      radios: [\n        {\n          label: '是',\n          value: '1',\n          isChecked: true\n        },\n        {\n          label: '否',\n          value: '2',\n          isChecked: false\n        },\n        {\n          label: '全部',\n          value: '3',\n          isChecked: false\n        }\n      ],\n      name: '',\n      price: '', //商品单格\n      w_price: 'ppp',\n      number: '',\n      classify: '',\n      content: '',\n      phone: '', //联系电话\n      username: '', //发布者\n      assess: [], //评论\n      collect: [], //收藏列表\n      iscollect: false, //是否已经收藏\n      shoppingcart: [], //购物车列表\n      isshoppingcart: false, //是否已经加入购物车\n\n      seller_id: '' //卖家id\n    };\n  },\n  computed: {},\n  created: function() {\n    let req = {\n      token: this.token\n    };\n    //收藏列表\n    this.$post(collectlist, req).then(res => {\n      this.$showDialog(true);\n      if (res.errno == 0) {\n        this.$showDialog(false);\n        this.collect = res.data;\n        console.log(this.iscollect);\n        for (let a = 0; a < this.collect.length; a++) {\n          if (this.collect[a].goods_id == this.goods_id) {\n            this.iscollect = true;\n          }\n        }\n        console.log(this.iscollect);\n      } else {\n        this.$showError(res.errmsg);\n      }\n    });\n    //购物车列表\n    this.$post(shoppingcartlist, req).then(res => {\n      this.$showDialog(true);\n      if (res.errno == 0) {\n        this.$showDialog(false);\n        this.shoppingcart = res.data;\n        console.log(this.isshoppingcart);\n        for (let a = 0; a < this.shoppingcart.length; a++) {\n          if (this.shoppingcart[a].goods_id == this.goods_id) {\n            this.isshoppingcart = true;\n          }\n        }\n        console.log(this.iscollect);\n      } else {\n        this.$showError(res.errmsg);\n      }\n    });\n    let jsonData = {\n      goods_id: this.goods_id\n    };\n    this.$post(api_goodsmessage, jsonData).then(res => {\n      this.$showDialog(true);\n      if (res.errno == 0) {\n        this.$showDialog(false);\n        this.name = res.data['name'];\n        this.number = res.data['number'];\n        this.address = res.data['address'];\n        this.classify = res.data['classify'];\n        this.pic = res.data['pic'];\n        this.price = res.data['price'];\n        this.content = res.data['content'];\n        this.phone = res.data['phone'];\n        this.username = res.data['username'];\n        this.assess = res.data.assess;\n        this.seller_id = res.data.user_id;\n        console.log(this.seller_id);\n      } else {\n        this.$showError(res.errmsg);\n      }\n    });\n  },\n  mounted: function() {},\n\n  activated: function() {\n    //            if (!!this.scrollOffset && this.scrollOffset > 0) {\n    //                this.scrollView.scrollTop = this.scrollOffset;\n    //            }\n  },\n  methods: {\n    check(index) {\n      // 先取消所有选中项\n      this.radios.forEach(item => {\n        item.isChecked = false;\n      });\n      //再设置当前点击项选中\n      this.radio = this.radios[index].value;\n      // 设置值，以供传递\n      this.radios[index].isChecked = true;\n      console.log(this.radio);\n    },\n    openAlert() {\n      this.$dialog.alert({\n        title: '选填标题',\n        mes: '发布者：' + this.username\n      });\n    },\n    onPop() {\n      this.$pop();\n    },\n    onPressPush(rou) {\n      this.$pushRoute(rou);\n    },\n    //加入购物车\n    addshoppingcart() {\n      let req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(addshoppingcart, req).then(res => {\n        this.$showDialog(true);\n        if (res.errno == 0) {\n          this.isshoppingcart = true;\n          this.$showDialog(false);\n          this.$dialog.toast({\n            mes: '加入成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          this.$showError(res.errmsg);\n        }\n      });\n    },\n    //添加到收藏\n    addCollect() {\n      let req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(addcollect, req).then(res => {\n        this.$showDialog(true);\n        if (res.errno == 0) {\n          this.iscollect = true;\n          this.$showDialog(false);\n          this.$dialog.toast({\n            mes: '收藏成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          this.$showError(res.errmsg);\n        }\n      });\n    },\n    //删除收藏\n    delCollect() {\n      let req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(delcollect, req).then(res => {\n        this.$showDialog(true);\n        if (res.errno == 0) {\n          this.iscollect = false;\n          this.$showDialog(false);\n          this.$dialog.toast({\n            mes: '取消成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          this.$showError(res.errmsg);\n        }\n      });\n    },\n    //取消购物车\n    delshoppingcart() {\n      let req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(delshoppingcart, req).then(res => {\n        this.$showDialog(true);\n        if (res.errno == 0) {\n          this.isshoppingcart = false;\n          this.$showDialog(false);\n          this.$dialog.toast({\n            mes: '取消成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          this.$showError(res.errmsg);\n        }\n      });\n    },\n    //立即购买\n    buy() {\n      if (this.token == '' || this.token == null) {\n        this.$showError('请先登录');\n        this.$pushRoute('login');\n      } else {\n        let goods = {\n          goods_id: this.goods_id,\n          seller_id: this.seller_id,\n          goods_price: this.price,\n          goods_name: this.name,\n          number: this.number\n        };\n        console.log(goods);\n        window.localStorage.setItem('goods', JSON.stringify(goods));\n        this.$pushRoute('goumai');\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.spjj {\n  background: #ffffff;\n  padding: 0.2rem 0.3rem;\n}\n\ntitle {\n  color: #000;\n}\n\n.radio-box {\n  color: #eeeeee;\n  background: orange;\n  padding: 0.1rem 0.2rem;\n  margin: 0.2rem;\n  border: 1px solid #cccccc;\n  border-radius: 0.2rem;\n}\n\n.on {\n  background: red;\n}\n\n.icon {\n  padding: 0.2rem;\n}\n\n.trade {\n  padding: 0.2rem;\n  background: orange;\n  color: #ffffff;\n}\n\n.shopping {\n  padding: 0.2rem;\n  background: red;\n  color: #ffffff;\n}\n</style>\n"],"sourceRoot":"src/modules/ershou"}]}