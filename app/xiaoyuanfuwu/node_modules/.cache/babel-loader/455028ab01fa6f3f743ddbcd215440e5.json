{"remainingRequest":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\babel-loader\\lib\\index.js!F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\src\\store\\modules\\user.js","dependencies":[{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\src\\store\\modules\\user.js","mtime":1550123748000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _Promise from \"F:\\\\xiaoyuanfuwu\\\\app\\\\xiaoyuanfuwu\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/promise\";\nimport _defineProperty from \"F:\\\\xiaoyuanfuwu\\\\app\\\\xiaoyuanfuwu\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSON$stringify from \"F:\\\\xiaoyuanfuwu\\\\app\\\\xiaoyuanfuwu\\\\node_modules\\\\@babel\\\\runtime-corejs2/core-js/json/stringify\";\nimport _typeof from \"F:\\\\xiaoyuanfuwu\\\\app\\\\xiaoyuanfuwu\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/typeof\";\n\nvar _mutations;\n\nimport { USER_LOGIN, USER_LOGOUT } from '../types';\nvar kLocalUser = process.env.VUE_APP_LOCAL_STORAGE_USER; // 获取配置的URL地址\n\nvar parseLocalUser = function parseLocalUser() {\n  'use strict';\n\n  var localUser = window.localStorage.getItem(kLocalUser);\n\n  try {\n    if (typeof localUser === 'string') {\n      console.log('字符串序列化[string] :=>', localUser);\n      return JSON.parse(localUser) || {};\n    }\n\n    if (_typeof(localUser) === 'object') {\n      console.log('字符串序列化[object] :=>', localUser);\n      return localUser || {};\n    }\n\n    console.log('字符串序列化 :=> 没有数据');\n    return {};\n  } catch (e) {\n    console.log(e);\n    return {};\n  }\n};\n\nvar state = {\n  // user: {\n  //     openid: '111222333',\n  // },\n  user: parseLocalUser() //基本数据\n\n}; // const fetchUser = () => {\n//     \"use strict\";\n//     if (!state.user || !state.user.token)\n//     window.localStorage.setItem('LOCAL_USER_STORAGE',user);\n// }\n\nvar getters = {\n  didLogin: function didLogin(state) {\n    return !!state.user;\n  },\n  username: function username(state) {\n    return state.user ? state.user.username : '';\n  }\n};\nvar mutations = (_mutations = {}, _defineProperty(_mutations, USER_LOGIN, function (state, user) {\n  if (user && user != null && user != undefined) {\n    state.user = user;\n    window.localStorage.setItem(kLocalUser, _JSON$stringify(user));\n  }\n\n  state.didLogin = !!user;\n}), _defineProperty(_mutations, 'USER_INFO', function USER_INFO(state, user) {\n  if (user) {\n    state.user = user;\n  }\n}), _mutations);\nvar actions = {\n  userLogin: function userLogin(_ref, payload) {\n    var commit = _ref.commit;\n    return new _Promise(function (resolve) {\n      commit(USER_LOGIN, payload);\n      resolve();\n    });\n  },\n  userDataSave: function userDataSave(_ref2, _ref3) {\n    var commit = _ref2.commit;\n    var userData = _ref3.userData,\n        userHealthData = _ref3.userHealthData,\n        Personid = _ref3.Personid;\n    return new _Promise(function (resolve) {\n      userData && commit('USER_INFO', userData);\n      userHealthData && commit('USER_HEALTH', userHealthData);\n      !!Personid && Personid.length && commit('USER_PERSONID', Personid);\n      resolve();\n    });\n  },\n  userLogout: function userLogout(_ref4, payload) {\n    var commit = _ref4.commit;\n    return new _Promise(function (resolve) {\n      commit(USER_LOGOUT, payload);\n      resolve();\n    });\n  }\n};\nexport default {\n  state: state,\n  mutations: mutations,\n  getters: getters,\n  actions: actions\n};",{"version":3,"sources":["F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\src\\store\\modules\\user.js"],"names":["USER_LOGIN","USER_LOGOUT","kLocalUser","process","env","VUE_APP_LOCAL_STORAGE_USER","parseLocalUser","localUser","window","localStorage","getItem","console","log","JSON","parse","e","state","user","getters","didLogin","username","mutations","undefined","setItem","actions","userLogin","payload","commit","resolve","userDataSave","userData","userHealthData","Personid","length","userLogout"],"mappings":";;;;;;;AAAA,SAASA,UAAT,EAAqBC,WAArB,QAAwC,UAAxC;AAEA,IAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,0BAA/B,C,CAA2D;;AAE3D,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B;;AACA,MAAMC,SAAS,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BR,UAA5B,CAAlB;;AACA,MAAI;AACF,QAAI,OAAOK,SAAP,KAAqB,QAAzB,EAAmC;AACjCI,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCL,SAAlC;AACA,aAAOM,IAAI,CAACC,KAAL,CAAWP,SAAX,KAAyB,EAAhC;AACD;;AAED,QAAI,QAAOA,SAAP,MAAqB,QAAzB,EAAmC;AACjCI,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCL,SAAlC;AACA,aAAOA,SAAS,IAAI,EAApB;AACD;;AAEDI,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,WAAO,EAAP;AACD,GAbD,CAaE,OAAOG,CAAP,EAAU;AACVJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,CAAZ;AACA,WAAO,EAAP;AACD;AACF,CApBD;;AAsBA,IAAIC,KAAK,GAAG;AACV;AACA;AACA;AACAC,EAAAA,IAAI,EAAEX,cAAc,EAJV,CAIa;;AAJb,CAAZ,C,CAOA;AACA;AACA;AACA;AACA;;AAEA,IAAMY,OAAO,GAAG;AACdC,EAAAA,QAAQ,EAAE,kBAAAH,KAAK,EAAI;AACjB,WAAO,CAAC,CAACA,KAAK,CAACC,IAAf;AACD,GAHa;AAKdG,EAAAA,QAAQ,EAAE,kBAAAJ,KAAK,EAAI;AACjB,WAAOA,KAAK,CAACC,IAAN,GAAaD,KAAK,CAACC,IAAN,CAAWG,QAAxB,GAAmC,EAA1C;AACD;AAPa,CAAhB;AAUA,IAAMC,SAAS,iDACZrB,UADY,YACAgB,KADA,EACOC,IADP,EACa;AACxB,MAAIA,IAAI,IAAIA,IAAI,IAAI,IAAhB,IAAwBA,IAAI,IAAIK,SAApC,EAA+C;AAC7CN,IAAAA,KAAK,CAACC,IAAN,GAAaA,IAAb;AACAT,IAAAA,MAAM,CAACC,YAAP,CAAoBc,OAApB,CAA4BrB,UAA5B,EAAwC,gBAAee,IAAf,CAAxC;AACD;;AACDD,EAAAA,KAAK,CAACG,QAAN,GAAiB,CAAC,CAACF,IAAnB;AACD,CAPY,+BAQZ,WARY,qBAQCD,KARD,EAQQC,IARR,EAQc;AACzB,MAAIA,IAAJ,EAAU;AACRD,IAAAA,KAAK,CAACC,IAAN,GAAaA,IAAb;AACD;AACF,CAZY,cAAf;AAeA,IAAMO,OAAO,GAAG;AACdC,EAAAA,SADc,2BACQC,OADR,EACiB;AAAA,QAAnBC,MAAmB,QAAnBA,MAAmB;AAC7B,WAAO,aAAY,UAAAC,OAAO,EAAI;AAC5BD,MAAAA,MAAM,CAAC3B,UAAD,EAAa0B,OAAb,CAAN;AACAE,MAAAA,OAAO;AACR,KAHM,CAAP;AAID,GANa;AAOdC,EAAAA,YAPc,sCAOmD;AAAA,QAAlDF,MAAkD,SAAlDA,MAAkD;AAAA,QAAtCG,QAAsC,SAAtCA,QAAsC;AAAA,QAA5BC,cAA4B,SAA5BA,cAA4B;AAAA,QAAZC,QAAY,SAAZA,QAAY;AAC/D,WAAO,aAAY,UAAAJ,OAAO,EAAI;AAC5BE,MAAAA,QAAQ,IAAIH,MAAM,CAAC,WAAD,EAAcG,QAAd,CAAlB;AACAC,MAAAA,cAAc,IAAIJ,MAAM,CAAC,aAAD,EAAgBI,cAAhB,CAAxB;AACA,OAAC,CAACC,QAAF,IAAcA,QAAQ,CAACC,MAAvB,IAAiCN,MAAM,CAAC,eAAD,EAAkBK,QAAlB,CAAvC;AAEAJ,MAAAA,OAAO;AACR,KANM,CAAP;AAOD,GAfa;AAgBdM,EAAAA,UAhBc,6BAgBSR,OAhBT,EAgBkB;AAAA,QAAnBC,MAAmB,SAAnBA,MAAmB;AAC9B,WAAO,aAAY,UAAAC,OAAO,EAAI;AAC5BD,MAAAA,MAAM,CAAC1B,WAAD,EAAcyB,OAAd,CAAN;AACAE,MAAAA,OAAO;AACR,KAHM,CAAP;AAID;AArBa,CAAhB;AAwBA,eAAe;AACbZ,EAAAA,KAAK,EAALA,KADa;AAEbK,EAAAA,SAAS,EAATA,SAFa;AAGbH,EAAAA,OAAO,EAAPA,OAHa;AAIbM,EAAAA,OAAO,EAAPA;AAJa,CAAf","sourcesContent":["import { USER_LOGIN, USER_LOGOUT } from '../types';\n\nconst kLocalUser = process.env.VUE_APP_LOCAL_STORAGE_USER; // 获取配置的URL地址\n\nconst parseLocalUser = () => {\n  'use strict';\n  const localUser = window.localStorage.getItem(kLocalUser);\n  try {\n    if (typeof localUser === 'string') {\n      console.log('字符串序列化[string] :=>', localUser);\n      return JSON.parse(localUser) || {};\n    }\n\n    if (typeof localUser === 'object') {\n      console.log('字符串序列化[object] :=>', localUser);\n      return localUser || {};\n    }\n\n    console.log('字符串序列化 :=> 没有数据');\n    return {};\n  } catch (e) {\n    console.log(e);\n    return {};\n  }\n};\n\nlet state = {\n  // user: {\n  //     openid: '111222333',\n  // },\n  user: parseLocalUser() //基本数据\n};\n\n// const fetchUser = () => {\n//     \"use strict\";\n//     if (!state.user || !state.user.token)\n//     window.localStorage.setItem('LOCAL_USER_STORAGE',user);\n// }\n\nconst getters = {\n  didLogin: state => {\n    return !!state.user;\n  },\n\n  username: state => {\n    return state.user ? state.user.username : '';\n  }\n};\n\nconst mutations = {\n  [USER_LOGIN](state, user) {\n    if (user && user != null && user != undefined) {\n      state.user = user;\n      window.localStorage.setItem(kLocalUser, JSON.stringify(user));\n    }\n    state.didLogin = !!user;\n  },\n  ['USER_INFO'](state, user) {\n    if (user) {\n      state.user = user;\n    }\n  }\n};\n\nconst actions = {\n  userLogin({ commit }, payload) {\n    return new Promise(resolve => {\n      commit(USER_LOGIN, payload);\n      resolve();\n    });\n  },\n  userDataSave({ commit }, { userData, userHealthData, Personid }) {\n    return new Promise(resolve => {\n      userData && commit('USER_INFO', userData);\n      userHealthData && commit('USER_HEALTH', userHealthData);\n      !!Personid && Personid.length && commit('USER_PERSONID', Personid);\n\n      resolve();\n    });\n  },\n  userLogout({ commit }, payload) {\n    return new Promise(resolve => {\n      commit(USER_LOGOUT, payload);\n      resolve();\n    });\n  }\n};\n\nexport default {\n  state,\n  mutations,\n  getters,\n  actions\n};\n"]}]}