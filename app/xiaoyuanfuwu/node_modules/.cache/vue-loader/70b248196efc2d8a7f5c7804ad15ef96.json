{"remainingRequest":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\src\\modules\\ershou\\goumai.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\src\\modules\\ershou\\goumai.vue","mtime":1554706758923},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { seladdress, addorder } from '../../components/rest-api/APIKeys';\nexport default {\n  name: 'Goumai',\n  components: {},\n  props: [],\n  data: function() {\n    return {\n      goods_id: window.localStorage.getItem('goods_id'),\n      token: window.localStorage.getItem('token'),\n      goods: JSON.parse(window.localStorage.getItem('goods')),\n      address_id: '', //地址id\n      address: '', //地址\n      goods_num: 1, //商品数量\n      remark: '' //备注\n    };\n  },\n  computed: {},\n  created: function() {\n    console.log(this.goods);\n    let req = {\n      token: this.token\n    };\n    this.$post(seladdress, req).then(res => {\n      this.$showDialog(false);\n      if (res.errno == 0) {\n        this.address = res.data;\n      } else {\n        this.$showError(res.errmsg);\n      }\n    });\n  },\n  mounted: function() {},\n\n  activated: function() {\n    //            if (!!this.scrollOffset && this.scrollOffset > 0) {\n    //                this.scrollView.scrollTop = this.scrollOffset;\n    //            }\n  },\n  methods: {\n    //立即购买\n    submit() {\n      let req = {\n        token: this.token,\n        order_status: 0,\n        goods_id: this.goods_id,\n        seller_id: this.goods.seller_id,\n        delivery_status: 1,\n        remark: this.remark,\n        goods_num: this.goods_num,\n        goods_price: this.goods.goods_price,\n        goods_money: 100,\n        address_id: this.address_id\n      };\n      //提交\n      this.$post(addorder, req).then(res => {\n        this.$showDialog(true);\n        if (res.errno == 0) {\n          this.$showDialog(false);\n\n          this.$dialog.toast({\n            mes: '提交成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n          this.$pop();\n        } else {\n          this.$showError(res.errmsg);\n        }\n      });\n    },\n    onPop() {\n      this.$pop();\n    },\n    onPressPush(rou) {\n      this.$pushRoute(rou);\n    }\n  }\n};\n",{"version":3,"sources":["goumai.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"goumai.vue","sourceRoot":"src/modules/ershou","sourcesContent":["<template>\n  <yd-layout>\n    <!--导航栏-->\n    <yd-navbar title=\"立即购买\" bgcolor=\"#3AB07E\" color=\"#FFF\">\n      <yd-navbar-back-icon slot=\"left\" @click.native=\"onPop\" color=\"#FFF\"\n        >返回\n      </yd-navbar-back-icon>\n    </yd-navbar>\n    <!--表单-->\n    <yd-cell-group>\n      <yd-cell-item arrow type=\"label\">\n        <span slot=\"left\">收货地址：</span>\n        <select slot=\"right\" v-model=\"address_id\">\n          <option value=\"\">请选择收货地址</option>\n          <option\n            v-for=\"item in address\"\n            value=\"item.address_id\"\n            :key=\"item.address_id\"\n            >{{ item.address }}{{ item.street }}--{{ item.tell }}</option\n          >\n        </select>\n      </yd-cell-item>\n      <yd-cell-item>\n        <span slot=\"left\">商品名称</span>\n        <span slot=\"right\">{{ this.goods.goods_name }}</span>\n      </yd-cell-item>\n      <yd-cell-item>\n        <span slot=\"left\">商品单价</span>\n        <span slot=\"right\">{{ this.goods.goods_price }}元</span>\n      </yd-cell-item>\n      <yd-cell-item>\n        <span slot=\"left\">商品数量</span>\n        <span slot=\"right\">\n          <yd-spinner unit=\"1\" v-model=\"goods_num\"></yd-spinner\n        ></span>\n      </yd-cell-item>\n      <yd-cell-group title=\"备注\">\n        <yd-cell-item>\n          <yd-textarea\n            slot=\"right\"\n            placeholder=\"请输入您的备注\"\n            maxlength=\"100\"\n            v-model=\"remark\"\n          ></yd-textarea>\n        </yd-cell-item>\n      </yd-cell-group>\n    </yd-cell-group>\n    <yd-button size=\"large\" type=\"primary\" @click.native=\"submit\"\n      >提交订单</yd-button\n    >\n  </yd-layout>\n</template>\n\n<script>\nimport { seladdress, addorder } from '../../components/rest-api/APIKeys';\nexport default {\n  name: 'Goumai',\n  components: {},\n  props: [],\n  data: function() {\n    return {\n      goods_id: window.localStorage.getItem('goods_id'),\n      token: window.localStorage.getItem('token'),\n      goods: JSON.parse(window.localStorage.getItem('goods')),\n      address_id: '', //地址id\n      address: '', //地址\n      goods_num: 1, //商品数量\n      remark: '' //备注\n    };\n  },\n  computed: {},\n  created: function() {\n    console.log(this.goods);\n    let req = {\n      token: this.token\n    };\n    this.$post(seladdress, req).then(res => {\n      this.$showDialog(false);\n      if (res.errno == 0) {\n        this.address = res.data;\n      } else {\n        this.$showError(res.errmsg);\n      }\n    });\n  },\n  mounted: function() {},\n\n  activated: function() {\n    //            if (!!this.scrollOffset && this.scrollOffset > 0) {\n    //                this.scrollView.scrollTop = this.scrollOffset;\n    //            }\n  },\n  methods: {\n    //立即购买\n    submit() {\n      let req = {\n        token: this.token,\n        order_status: 0,\n        goods_id: this.goods_id,\n        seller_id: this.goods.seller_id,\n        delivery_status: 1,\n        remark: this.remark,\n        goods_num: this.goods_num,\n        goods_price: this.goods.goods_price,\n        goods_money: 100,\n        address_id: this.address_id\n      };\n      //提交\n      this.$post(addorder, req).then(res => {\n        this.$showDialog(true);\n        if (res.errno == 0) {\n          this.$showDialog(false);\n\n          this.$dialog.toast({\n            mes: '提交成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n          this.$pop();\n        } else {\n          this.$showError(res.errmsg);\n        }\n      });\n    },\n    onPop() {\n      this.$pop();\n    },\n    onPressPush(rou) {\n      this.$pushRoute(rou);\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n"]}]}