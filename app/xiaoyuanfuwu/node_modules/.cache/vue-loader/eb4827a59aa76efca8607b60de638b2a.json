{"remainingRequest":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\src\\modules\\ershou\\goumai.vue?vue&type=style&index=0&id=3d0d6e5e&scoped=true&lang=css&","dependencies":[{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\src\\modules\\ershou\\goumai.vue","mtime":1554683131766},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\xiaoyuanfuwu\\app\\xiaoyuanfuwu\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.spjj {\n  background: #ffffff;\n  padding: 0.2rem 0.3rem;\n}\n\ntitle {\n  color: #000;\n}\n\n.radio-box {\n  color: #eeeeee;\n  background: orange;\n  padding: 0.1rem 0.2rem;\n  margin: 0.2rem;\n  border: 1px solid #cccccc;\n  border-radius: 0.2rem;\n}\n\n.on {\n  background: red;\n}\n\n.icon {\n  padding: 0.2rem;\n}\n\n.trade {\n  padding: 0.2rem;\n  background: orange;\n  color: #ffffff;\n}\n\n.shopping {\n  padding: 0.2rem;\n  background: red;\n  color: #ffffff;\n}\n",{"version":3,"sources":["goumai.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0XA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"goumai.vue","sourceRoot":"src/modules/ershou","sourcesContent":["<template>\n  <yd-layout>\n    <template>\n      <!--导航栏-->\n      <yd-navbar\n        :fixed=\"true\"\n      >\n        <yd-navbar-back-icon slot=\"left\" @click.native=\"onPop\"\n          >返回\n        </yd-navbar-back-icon>\n        <yd-icon\n          slot=\"right\"\n          name=\"shopcart-outline\"\n          size=\"20px\"\n          color=\"rgb(92, 92, 92)\"\n          @click.native=\"onPressPush('gouwuche')\"\n        ></yd-icon>\n      </yd-navbar>\n      <!--轮播图-->\n      <yd-slider autoplay=\"3000\">\n        <yd-slider-item>\n          <a href=\"http://www.ydcss.com\">\n            <img src=\"http://static.ydcss.com/uploads/ydui/1.jpg\" />\n          </a>\n        </yd-slider-item>\n        <yd-slider-item>\n          <a href=\"http://www.ydcss.com\">\n            <img src=\"http://static.ydcss.com/uploads/ydui/2.jpg\" />\n          </a>\n        </yd-slider-item>\n        <yd-slider-item>\n          <a href=\"http://www.ydcss.com\">\n            <img src=\"http://static.ydcss.com/uploads/ydui/3.jpg\" />\n          </a>\n        </yd-slider-item>\n      </yd-slider>\n      <!--商品简介-->\n      <div class=\"spjj\">\n        <span slot=\"title\" class=\"title\">{{ name }}</span>\n        <yd-list-other slot=\"other\">\n          <div>\n            <span class=\"demo-list-price\"><em>¥</em>{{ price }}</span>\n          </div>\n          <div>{{ classify }}</div>\n        </yd-list-other>\n      </div>\n      <!--发布者，以及服务-->\n      <div style=\"height: 0.1rem\"></div>\n      <yd-cell-group>\n        <yd-cell-item arrow type=\"a\" href=\"tel:this.phone\">\n          <span slot=\"left\">联系电话</span>\n          <span slot=\"right\">{{ phone }}</span>\n        </yd-cell-item>\n        <yd-cell-item\n          arrow\n          tag=\"button\"\n          @click.stop.native=\"openAlert\"\n          size=\"large\"\n        >\n          <span slot=\"left\">发布者信息</span>\n          <span slot=\"right\">发布人</span>\n        </yd-cell-item>\n      </yd-cell-group>\n      <!--产品型号-->\n      <yd-accordion accordion>\n        <!-- <yd-accordion-item title=\"产品型号\" open>\n                          <div style=\"padding: .24rem;\">\n                            &lt;!&ndash;选择项&ndash;&gt;\n                            <div class=\"reply\">\n                              <span\n                                class=\"radio-box\"\n                                :class=\"{ on: item.isChecked }\"\n                                v-for=\"(item, index) in radios\"\n                                :key=\"item.id\"\n                              >\n                                <span class=\"radio\" :class=\"{ on: item.isChecked }\">\n                                  <span\n                                    :value=\"item.value\"\n                                    class=\"input-radio\"\n                                    :checked=\"item.isChecked\"\n                                    @click=\"check(index)\"\n                                    type=\"radio\"\n                                    >{{ item.label }}</span\n                                  ></span\n                                >\n                              </span>\n                            </div>\n                          </div>\n                        </yd-accordion-item>-->\n      </yd-accordion>\n      <div style=\"height: .1rem\"></div>\n      <!--选项卡-->\n      <yd-tab>\n        <yd-tab-panel label=\"产品简介\">{{ content }}</yd-tab-panel>\n        <yd-tab-panel label=\"评价\">\n          <yd-timeline>\n            <yd-timeline-item v-for=\"item in assess\" :key=\"item.assess_id\">\n              <p>{{ item.assess_time }}</p>\n              <p>评论人：{{ item.assess_username }}</p>\n              <p style=\"margin-top: 10px;\">{{ item.gacontent }}</p>\n            </yd-timeline-item>\n          </yd-timeline>\n        </yd-tab-panel>\n      </yd-tab>\n      <yd-tabbar slot=\"tabbar\">\n        <yd-tabbar-item title=\"电话\" type=\"a\" href=\"tel:this.phone\">\n          <yd-icon name=\"phone2\" slot=\"icon\" size=\".3rem\"></yd-icon>\n        </yd-tabbar-item>\n        <yd-tabbar-item\n          title=\"收藏\"\n          v-if=\"!this.iscollect\"\n          @click.native=\"addCollect\"\n        >\n          <yd-icon name=\"star-outline\" slot=\"icon\" size=\".3rem\"></yd-icon>\n        </yd-tabbar-item>\n        <yd-tabbar-item\n          title=\"已收藏\"\n          v-if=\"this.iscollect\"\n          style=\"color: #FF0000\"\n          @click.native=\"delCollect\"\n        >\n          <yd-icon name=\"star-outline\" slot=\"icon\" size=\".3rem\"></yd-icon>\n        </yd-tabbar-item>\n        <div>\n          <yd-button\n            class=\"trade\"\n            @click.native=\"addshoppingcart\"\n            v-if=\"!this.isshoppingcart\"\n            >加入购物车\n          </yd-button>\n          <yd-button\n            class=\"trade\"\n            @click.native=\"delshoppingcart\"\n            v-if=\"this.isshoppingcart\"\n            style=\"background:#999\"\n            >取消购物车\n          </yd-button>\n          <yd-button class=\"shopping\">立 即 购 买</yd-button>\n        </div>\n      </yd-tabbar>\n    </template>\n  </yd-layout>\n</template>\n\n<script>\nimport {\n  api_goodsmessage,\n  collectlist,\n  addcollect,\n  delcollect,\n  addshoppingcart,\n  shoppingcartlist,\n  delshoppingcart\n} from '../../components/rest-api/APIKeys';\n\nexport default {\n  name: 'Goumai',\n  components: {},\n  props: [],\n  data: function() {\n    return {\n      goods_id: window.localStorage.getItem('goods_id'),\n      token: window.localStorage.getItem('token'),\n      radio: '1',\n      radios: [\n        {\n          label: '是',\n          value: '1',\n          isChecked: true\n        },\n        {\n          label: '否',\n          value: '2',\n          isChecked: false\n        },\n        {\n          label: '全部',\n          value: '3',\n          isChecked: false\n        }\n      ],\n      name: '',\n      price: '',\n      w_price: 'ppp',\n      number: '',\n      classify: '',\n      content: '',\n      phone: '', //联系电话\n      username: '', //发布者\n      assess: [], //评论\n      collect: [], //收藏列表\n      iscollect: false, //是否已经收藏\n      shoppingcart: [], //购物车列表\n      isshoppingcart: false //是否已经加入购物车\n    };\n  },\n  computed: {},\n  created: function() {\n    let req = {\n      token: this.token\n    };\n    //收藏列表\n    this.$post(collectlist, req).then(res => {\n      this.$showDialog(true);\n      if (res.errno == 0) {\n        this.$showDialog(false);\n        this.collect = res.data;\n        console.log(this.iscollect);\n        for (let a = 0; a < this.collect.length; a++) {\n          if (this.collect[a].goods_id == this.goods_id) {\n            this.iscollect = true;\n          }\n        }\n        console.log(this.iscollect);\n      } else {\n        this.$showError(res.errmsg);\n      }\n    });\n    //购物车列表\n    this.$post(shoppingcartlist, req).then(res => {\n      this.$showDialog(true);\n      if (res.errno == 0) {\n        this.$showDialog(false);\n        this.shoppingcart = res.data;\n        console.log(this.isshoppingcart);\n        for (let a = 0; a < this.shoppingcart.length; a++) {\n          if (this.shoppingcart[a].goods_id == this.goods_id) {\n            this.isshoppingcart = true;\n          }\n        }\n        console.log(this.iscollect);\n      } else {\n        this.$showError(res.errmsg);\n      }\n    });\n    let jsonData = {\n      goods_id: this.goods_id\n    };\n    this.$post(api_goodsmessage, jsonData).then(res => {\n      this.$showDialog(true);\n      if (res.errno == 0) {\n        this.$showDialog(false);\n        this.name = res.data['name'];\n        this.number = res.data['number'];\n        this.address = res.data['address'];\n        this.classify = res.data['classify'];\n        this.pic = res.data['pic'];\n        this.price = res.data['price'];\n        this.content = res.data['content'];\n        this.phone = res.data['phone'];\n        this.username = res.data['username'];\n        this.assess = res.data.assess;\n        console.log(this.assess);\n      } else {\n        this.$showError(res.errmsg);\n      }\n    });\n  },\n  mounted: function() {},\n\n  activated: function() {\n    //            if (!!this.scrollOffset && this.scrollOffset > 0) {\n    //                this.scrollView.scrollTop = this.scrollOffset;\n    //            }\n  },\n  methods: {\n    check(index) {\n      // 先取消所有选中项\n      this.radios.forEach(item => {\n        item.isChecked = false;\n      });\n      //再设置当前点击项选中\n      this.radio = this.radios[index].value;\n      // 设置值，以供传递\n      this.radios[index].isChecked = true;\n      console.log(this.radio);\n    },\n    openAlert() {\n      this.$dialog.alert({\n        title: '选填标题',\n        mes: '发布者：' + this.username\n      });\n    },\n    onPop() {\n      this.$pop();\n    },\n    onPressPush(rou) {\n      this.$pushRoute(rou);\n    },\n    //加入购物车\n    addshoppingcart() {\n      let req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(addshoppingcart, req).then(res => {\n        this.$showDialog(true);\n        if (res.errno == 0) {\n          this.isshoppingcart = true;\n          this.$showDialog(false);\n          this.$dialog.toast({\n            mes: '加入成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          this.$showError(res.errmsg);\n        }\n      });\n    },\n    //添加到收藏\n    addCollect() {\n      let req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(addcollect, req).then(res => {\n        this.$showDialog(true);\n        if (res.errno == 0) {\n          this.iscollect = true;\n          this.$showDialog(false);\n          this.$dialog.toast({\n            mes: '收藏成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          this.$showError(res.errmsg);\n        }\n      });\n    },\n    //删除收藏\n    delCollect() {\n      let req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(delcollect, req).then(res => {\n        this.$showDialog(true);\n        if (res.errno == 0) {\n          this.iscollect = false;\n          this.$showDialog(false);\n          this.$dialog.toast({\n            mes: '取消成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          this.$showError(res.errmsg);\n        }\n      });\n    },\n    //取消购物车\n    delshoppingcart() {\n      let req = {\n        token: this.token,\n        goods_id: this.goods_id\n      };\n      this.$post(delshoppingcart, req).then(res => {\n        this.$showDialog(true);\n        if (res.errno == 0) {\n          this.isshoppingcart = false;\n          this.$showDialog(false);\n          this.$dialog.toast({\n            mes: '取消成功',\n            timeout: 1500,\n            icon: 'success'\n          });\n        } else {\n          this.$showError(res.errmsg);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.spjj {\n  background: #ffffff;\n  padding: 0.2rem 0.3rem;\n}\n\ntitle {\n  color: #000;\n}\n\n.radio-box {\n  color: #eeeeee;\n  background: orange;\n  padding: 0.1rem 0.2rem;\n  margin: 0.2rem;\n  border: 1px solid #cccccc;\n  border-radius: 0.2rem;\n}\n\n.on {\n  background: red;\n}\n\n.icon {\n  padding: 0.2rem;\n}\n\n.trade {\n  padding: 0.2rem;\n  background: orange;\n  color: #ffffff;\n}\n\n.shopping {\n  padding: 0.2rem;\n  background: red;\n  color: #ffffff;\n}\n</style>\n"]}]}